<!-- akn -->

<!-- templates/builds/partials/scaffold_list.html -->

<!-- ====================================================================== -->
<!-- ====================================================================== -->
<!-- Section for Unique Components (CPU, Motherboard, etc.)                 -->
<!-- ====================================================================== -->
{% for type, item in scaffold.items %}
{% if type in "CPU,Motherboard,GPU,PSU,Case" %}
<tr style="border-bottom: 1px solid #e2e8f0;">
    <td style="padding: 1rem;"><strong>{{ type }}</strong></td>

    {% if item %}
    <!-- If the slot is filled -->
    <td style="padding: 1rem;">{{ item.component.name }}</td>
    <td style="padding: 1rem;">{{ item.component.manufacturer }}</td>
    <td style="padding: 1rem; text-align: center;">
        <button hx-post="{% url 'builds:remove_component' item.build.id %}"
            hx-vals='{"component_id": "{{ item.component.id }}"}' hx-target="#components-list" hx-swap="innerHTML"
            hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
            style="color: #dc3545; border: 1px solid #dc3545; background: #fff; cursor: pointer; padding: 6px 12px; border-radius: 6px; font-weight: 500;">
            Remove
        </button>
    </td>
    {% else %}
    <!-- If the slot is empty -->
    <td style="padding: 1rem; color: #94a3b8;"><i>Empty Slot</i></td>
    <td style="padding: 1rem;">-</td>
    <td style="padding: 1rem; text-align: center;">
        <button class="btn-flashy" hx-get="{% url 'builds:search_components' build.id %}?type={{ type }}"
            hx-target="#available-components-list" hx-swap="innerHTML"
            style="padding: 6px 12px; border-radius: 6px; font-size: 0.85rem; cursor: pointer;">
            Select {{ type }}
        </button>
    </td>
    {% endif %}
</tr>
{% endif %}
{% endfor %}

<!-- ====================================================================== -->
<!-- Section for RAM Slots (Dynamically numbered)                         -->
<!-- ====================================================================== -->
{% for item in scaffold.RAM %}
<tr style="border-bottom: 1px solid #e2e8f0;">
    <!-- Use the loop counter to number the slots -->
    <td style="padding: 1rem;"><strong>RAM Slot {{ forloop.counter }}</strong></td>

    {% if item %}
    <!-- If the slot is filled -->
    <td style="padding: 1rem;">{{ item.component.name }}</td>
    <td style="padding: 1rem;">{{ item.component.manufacturer }}</td>
    <td style="padding: 1rem; text-align: center;">
        <button hx-post="{% url 'builds:remove_component' item.build.id %}"
            hx-vals='{"component_id": "{{ item.component.id }}"}' hx-target="#components-list" hx-swap="innerHTML"
            hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
            style="color: #dc3545; border: 1px solid #dc3545; background: #fff; cursor: pointer; padding: 6px 12px; border-radius: 6px; font-weight: 500;">
            Remove
        </button>
    </td>
    {% else %}
    <!-- If the slot is empty -->
    <td style="padding: 1rem; color: #94a3b8;"><i>Empty Slot</i></td>
    <td style="padding: 1rem;">-</td>
    <td style="padding: 1rem; text-align: center;">
        <button class="btn-flashy" hx-get="{% url 'builds:search_components' build.id %}?type=RAM"
            hx-target="#available-components-list" hx-swap="innerHTML"
            style="padding: 6px 12px; border-radius: 6px; font-size: 0.85rem; cursor: pointer;">
            Select RAM
        </button>
    </td>
    {% endif %}
</tr>
{% endfor %}

<!-- ====================================================================== -->
<!-- Section for Storage Slots (Fixed number, numbered)                   -->
<!-- ====================================================================== -->
{% for item in scaffold.Storage %}
<tr style="border-bottom: 1px solid #e2e8f0;">
    <!-- Use the loop counter to number the slots -->
    <td style="padding: 1rem;"><strong>Storage Slot {{ forloop.counter }}</strong></td>

    {% if item %}
    <!-- If the slot is filled -->
    <td style="padding: 1rem;">{{ item.component.name }}</td>
    <td style="padding: 1rem;">{{ item.component.manufacturer }}</td>
    <td style="padding: 1rem; text-align: center;">
        <button hx-post="{% url 'builds:remove_component' item.build.id %}"
            hx-vals='{"component_id": "{{ item.component.id }}"}' hx-target="#components-list" hx-swap="innerHTML"
            hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
            style="color: #dc3545; border: 1px solid #dc3545; background: #fff; cursor: pointer; padding: 6px 12px; border-radius: 6px; font-weight: 500;">
            Remove
        </button>
    </td>
    {% else %}
    <!-- If the slot is empty -->
    <td style="padding: 1rem; color: #94a3b8;"><i>Empty Slot</i></td>
    <td style="padding: 1rem;">-</td>
    <td style="padding: 1rem; text-align: center;">
        <button class="btn-flashy" hx-get="{% url 'builds:search_components' build.id %}?type=Storage"
            hx-target="#available-components-list" hx-swap="innerHTML"
            style="padding: 6px 12px; border-radius: 6px; font-size: 0.85rem; cursor: pointer;">
            Select Storage
        </button>
    </td>
    {% endif %}
</tr>
{% endfor %}

<!-- akn -->